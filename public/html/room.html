<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Teams | Room</title>
    <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="../css/style.css">
</head>

<body>
    <!-- Nav bar -->
    <div class="navbar-fixed">
        <nav>
            <div class="nav-wrapper bg-000033">
                <a href="../index.html" class="brand-logo center">E-Teams</a>
            </div>
        </nav>
    </div>

    <!-- Main content -->
    <div id="body">
        <!-- Main title -->
        <div class="section no-pad-bot">
            <div class="container">
                <br><br>
                <h1 class="header center text-4b88a2">Room</h1>
                <div class="row center">
                    <h5 class="header col s12 light">Where people can make video call and voice chat</h5>
                </div>
                <div class="login row center">
                    <div class="col s12 m4">
                        <a href="#create-room-modal"
                            class="double btn-large waves-effect waves-light bg-4b88a2 modal-trigger">Create
                            Room</a>
                    </div>
                    <div class="col s12 m4">
                        <a href="#join-room-modal"
                            class="double btn-large waves-effect waves-light bg-4b88a2 modal-trigger">Join
                            Room</a>
                    </div>
                    <div class="col s12 m4">
                        <a id="leave" href="#"
                            class="double btn-large waves-effect waves-light bg-4b88a2 modal-trigger">Leave
                            Room</a>
                    </div>
                </div>
                <br><br>
            </div>
        </div>

        <!-- Room information display -->
        <div class="container login">
            <div class="row col s6 m6">
                <div class="card">
                    <div class="card-content bg-2f3162">
                        <span class="white-text">Room Name: </span>
                        <span id="channel-name-display" class="white-text"></span><br>
                        <p class="white-text">Token: </p>
                        <p id="token-display" class="white-text" style="overflow-wrap: break-word;"></p>
                        <button class="btn waves-effect waves-light bg-4b88a2" id="copy">Copy Token</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Display video call -->
        <div class="container login">
            <div class="col s12 m6">
                <div class="video-grid" id="video">
                    <div class="video-view">
                        <div id="local_stream" class="video-placeholder"></div>
                        <div id="local_video_info" class="video-profile hide"></div>
                        <div id="video_autoplay_local" class="autoplay-fallback hide"></div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Create Room -->
        <div id="create-room-modal" class="modal bg-gradient-2">
            <div class="modal-content">
                <h4 class="center text-2f3162">Create Room</h4>
                <div class="row">
                    <form id="create-room" class="col s12">
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="channel" class="text-4b88a2" type="text">
                                <label for="channel">Room Name</label>
                            </div>
                        </div>
                        <button class="btn">Create</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Join Room -->
        <div id="join-room-modal" class="modal bg-gradient-2">
            <div class="modal-content text-2f3162">
                <h4 class="center">Join Room</h4>
                <div class="row">
                    <form id="join-room" class="col s12">
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="channel-name" class="text-4b88a2" type="text">
                                <label for="channel-name">Room Name</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="token" class="text-4b88a2" type="text">
                                <label for="token">Token</label>
                            </div>
                        </div>
                        <button class="btn">Join</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="contact-modal" class="modal bg-gradient white-text">
        <div class="modal-content">
            <h4 class="center">Contact</h4>
            <div>
                <h5>Facebook</h5>
                <p><a class="white-text" target="_blank"
                        href="https://www.facebook.com/profile.php?id=100009400054425">Nguyen Minh Duc</a></p>
            </div><br>
            <div>
                <h5>Phone number</h5>
                <p>Nguyen Minh Duc: 0981062376</p>
            </div><br>
            <div>
                <h5>Email</h5>
                <p>Nguyen Minh Duc: ngmductm@gmail.com</p>
            </div><br>
            <div>
                <h5>Discord</h5>
                <p>Nguyen Minh Duc: The Master#3287</p>
            </div><br>
            <div>
                <h5>Github</h5>
                <p><a class="white-text" target="_blank" href="https://github.com/minhduc29">Nguyen Minh Duc</a></p>
            </div><br>
            <div>
                <h5>LinkedIn</h5>
                <p><a class="white-text" target="_blank" href="https://www.linkedin.com/in/duc-nguyen-178297205/">Nguyen
                        Minh Duc</a></p>
            </div><br>
            <div>
                <h5>Discord</h5>
                <p>Nguyen Minh Duc: The Master#3287</p>
            </div><br>
            <div>
                <h5>Instagram</h5>
                <p>Nguyen Minh Duc: ngnmduc</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="page-footer bg-000033">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">About</h5>
                    <p class="white-text about">Revolutionizing the tech industry - one step at a time. And E-Teams is
                        exactly
                        what you
                        need. Discussion posts, learning logs, real-time virtual meeting, and much more. Jump onto our
                        site,
                        register for an account, and enjoy the benefit of this professional application today!</p>
                    <p class="white-text about">Third Prize MindX Grand Hackathon 2020</p>
                    <p class="white-text about">First Prize MindX Hackathon 2020</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">Contact</h5>
                    <ul>
                        <li class="white-text about">Whether you have a question about information, demo or anything
                            else, our team
                            is
                            ready and happy to answer all your questions</li><br>
                        <li><a class="white-text modal-trigger" href="#contact-modal">Contact</a></li>
                        <li><a class="white-text" target="_blank" href="./our_team.html">Our Team</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container" id="cpr">
                <p>Favicon was designed by To Thien Bao</p>
                Copyright &#169;
            </div>
        </div>
    </footer>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"></script>

    <!-- Include only Firebase features as you need -->
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-storage.js"></script>

    <!-- Agora SDK -->
    <script src="https://cdn.agora.io/sdk/release/AgoraRTCSDK-3.2.1.js"></script>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyD_yopXnQQVNKUGRiosoZCMJwC59lE-agw",
            authDomain: "e-teams.firebaseapp.com",
            databaseURL: "https://e-teams.firebaseio.com",
            projectId: "e-teams",
            storageBucket: "e-teams.appspot.com",
            messagingSenderId: "287123351392",
            appId: "1:287123351392:web:ee07b0b4255b6a70baa005"
        }
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig)

        // Make reference
        const auth = firebase.auth()
        const db = firebase.firestore()
        const storage = firebase.storage()
        const storageRef = storage.ref()

        auth.onAuthStateChanged(user => {
            const logout = document.querySelectorAll('.logout')
            const login = document.querySelectorAll('.login')
            if (user) {
                // Toggle UI
                login.forEach(item => item.style.display = 'block')
                logout.forEach(item => item.style.display = 'none')
            } else {
                // Toggle UI
                login.forEach(item => item.style.display = 'none')
                logout.forEach(item => item.style.display = 'block')
            }
        })
    </script>
    <script src="../js/room.js" type="module"></script>
</body>

</html>